================================================================================
ULTRA MINIMAL WORKFLOW - IMPORT DLA N8N 1.111.0
================================================================================

Data: 2025-10-28
Wersja: Ultra Minimal (bez retry, bez timeout, IF zamiast Switch)

================================================================================
PLIK DO IMPORTU
================================================================================

C:\Projects\BAW\API 04 Ultra Minimal.json

Rozmiar: ~69 KB
Wezlow: 65 (50 oryginalnych + 15 nowych - minimalne wersje)

================================================================================
CO ZOSTALO UPROSZCZONE?
================================================================================

1. HTTP Request Nodes:
   - BEZ retry configuration
   - BEZ timeout configuration
   - BEZ zadnych options
   - Czyste parametry: method, url, sendBody, contentType, bodyParameters

2. Email Send Nodes:
   - PROSTE emaile tekstowe (text zamiast html)
   - BEZ options
   - Tylko podstawowe: fromEmail, toEmail, subject, text

3. Decision Logic:
   - IF node zamiast Switch node
   - Prosta struktura: conditions.string
   - BEZ fallbackOutput, BEZ wielokrotnych warunkow

4. Set Nodes (Init Counter, Increment Counter):
   - Struktura: assignments: { assignments: [...] }
   - Kazdy assignment: id, name, value, type
   - BEZ options

5. Wait Nodes:
   - Tylko podstawowe: amount, unit
   - Unikalne webhookId (UUID)
   - BEZ options

6. Merge i Code Nodes:
   - Minimalna konfiguracja
   - BEZ options

================================================================================
IMPORT - KROK PO KROKU
================================================================================

KROK 1: Import do N8N
----------------------

1. Otwórz: http://localhost:5678

2. Workflows → Import from File

3. Wybierz: C:\Projects\BAW\API 04 Ultra Minimal.json

4. Kliknij: Import

5. Sprawdz:
   - Nazwa: "API 04"
   - Wezlow: 65
   - CZY IMPORT DZIALA BEZ BLEDU? <<<--- TO JEST KLUCZOWE

================================================================================
JESLI IMPORT SIE UDAL (BEZ BLEDU)
================================================================================

GRATULACJE! Podstawowy workflow dziala.

Nastepne kroki (WSZYSTKO RECZNIE W N8N UI):

A) DODAJ RETRY DO HTTP REQUEST:

   1. "Create Summary":
      - Settings → Retry On Fail: ON
      - Max Tries: 3
      - Wait: 2000ms

   2. "Check Summary Status":
      - Settings → Retry On Fail: ON
      - Max Tries: 2
      - Wait: 1000ms

   3. "Get Approved Summary":
      - Settings → Retry On Fail: ON
      - Max Tries: 3
      - Wait: 2000ms

B) DODAJ TIMEOUT DO HTTP REQUEST:

   1. "Create Summary":
      - HTTP Request → Options → Timeout (ms): 30000

   2. "Check Summary Status":
      - Options → Timeout: 15000

   3. "Get Approved Summary":
      - Options → Timeout: 20000

C) ULEPSZAJ EMAILE:

   1. Zmien "Send Edit Link Email" z text na html:
      - Usun parametr "text"
      - Dodaj parametr "html"
      - Wstaw ladny HTML z linkiem

   2. Zmien "Send Final Email" na pelny HTML z formatowaniem

D) ROZBUDUJ IF NODE NA SWITCH NODE:

   1. Usun wezel "Is Approved or Timeout?"

   2. Dodaj nowy Switch node:
      - Rules:
        * Rule 1: status = "approved" → Output 0
        * Rule 2: status = "rejected" → Output 1
        * Rule 3: iteration_count >= 60 → Output 2
        * Fallback: → Output 3

   3. Polacz:
      - Output 0 → Get Approved Summary
      - Output 1 → Send Rejection Email
      - Output 2 → Log Timeout Error
      - Output 3 → Wait 10 Seconds

================================================================================
JESLI IMPORT NADAL SIE NIE UDA
================================================================================

Prosze:

1. Otwórz Console w przegladarce (F12)

2. Spróbuj importowac workflow

3. Sprawdz zakladke "Console" i "Network"

4. Zrob screenshot bledu (pelny komunikat)

5. Wyslij screenshot z dokladnym komunikatem

================================================================================
CO MOZEMY SPRAWDZIC?
================================================================================

Jesli ULTRA MINIMAL import tez sie nie uda, problem moze byc w:

1. Credentials IDs:
   - SMTP account 4: 2joSLF2U4RnAaaXW
   - SeaTable account 3: 308kg9y7cDXLbrvU
   - OpenAi account 11: im1Fo28cUIM0GySs

2. Node IDs (UUID format):
   - Sprawdz czy N8N 1.111.0 wymaga specjalnego formatu UUID

3. WebhookId (dla Wait nodes):
   - Sprawdz czy kazdy Wait musi miec unikalny webhookId

4. TypeVersions:
   - httpRequest: 4.2
   - emailSend: 2.1
   - if: 1
   - set: 3.4
   - wait: 1
   - merge: 3.2
   - code: 2
   - seaTable: 2

================================================================================
ALTERNATYWNE PODEJSCIE (OSTATECZNE)
================================================================================

Jesli NICZEGO nie da sie zaimportowac:

PLAN B: RECZNIE DODAJ WEZLY W N8N UI

1. Zaimportuj ORYGINALNY workflow (backup):
   C:\Projects\BAW\API 04.json.backup

2. Recznie dodaj 15 nowych wezlow:
   - Create Summary (HTTP Request)
   - Send Edit Link Email (Email Send)
   - Wait for User (Wait)
   - Init Counter (Set)
   - Check Summary Status (HTTP Request)
   - Increment Counter (Set)
   - Is Approved or Timeout? (IF lub Switch)
   - Wait 10 Seconds (Wait)
   - Get Approved Summary (HTTP Request)
   - Merge Final Data (Merge)
   - Format Final Email (Code)
   - Send Final Email (Email Send)
   - Log Timeout Error (SeaTable)
   - Send Timeout Email (Email Send)
   - Send Rejection Email (Email Send)

3. Recznie polacz wezly zgodnie z diagramem

4. To bedzie zajmowac 30-60 minut, ale ZAWSZE zadziala

================================================================================
PODSUMOWANIE
================================================================================

PLIK: C:\Projects\BAW\API 04 Ultra Minimal.json

TO JEST NAJBARDZIEJ UPROSZCZONA WERSJA:
- Bez retry
- Bez timeout
- Bez options
- Proste emaile tekstowe
- IF zamiast Switch

JESLI TO NIE ZADZIALA:
- Problem jest glebszy (credentials, UUID, typeVersion, struktura N8N 1.111.0)
- Bedziemy potrzebowac console logs z przegladarki
- LUB recznie dodamy wezly w N8N UI

================================================================================
POWODZENIA!
================================================================================
